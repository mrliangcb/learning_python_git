
# 2章.pandas用法

```python
import numpy as np
import pandas as pd
import os
```

## 1.Series
pandas表格，每一列都是一个series ,可以由list或者nparray产生  一个series有 value值，有行标序号
### (1)创建series 单个列  
(1.1)由list创建series:  
```python
se=pd.Series([4,3,6,10],index=['a','b','c','d'])  #index为行序号
print(a)
print(se.values)
print(se.index)
```
values : 获得list形式的内容  
(1.2)由dict创建series:  
```python
se2={'liming':25,'wangwu':35,'xiaoming':19} 
												
index=['china','wangwu','france']  #这是显示设置,
se2=pd.Series(se2,index) #根据字典生成series，然后选择一部分显示
#series的时候，value只有一个。而dataframe的时候value是一个list  
#liming wangwu就是index,也是key
```
结果为:  
```python
china      NaN
wangwu    35.0
france     NaN
dtype: float64
```


### (2)索引方法  
```python
se['a']  
se[['a']]  
```
维数与返回类型的关系 : 二维表示与自己相同的类型，一维表示比自己低的类型  
从低到高 : np或者list   series  dataframe  

条件索引:  
```python
se[se>0]
```
上面相当于se[[true,false]]里面是判断的结果bool型  

判断:  
```python
panduan='a' in se  
```
返回true  false

查找缺失值  
pd.isnull(se3).index.tolist() #获得行标，之后再根据行标做操作  
pd.isnull(se3)这部分是得到bool型series  

### (3)修改series
(3.1) 填充缺失   
.fillna()  #可以是value，或者数组，series  

(3.2) 修改行标
se3.index=['a','b','c']  #要把全部行标写出来
```
a    25
b    35
c    19
dtype: int64
```

se3.reindex(['a','b'],fill_value=0) #选择行标来显示行，缺失的填充0  
```
a    25
b    35
dtype: int64
```

(3.3) 

## 2.dataframe表格  

### (1) 创建  
从np创建df:  
```py
a=np.array([[1,2,3],[4,5,6],[7,8,9]])  
index=['a','b','c']  
column=['ming','wang','liang']  
df1=pd.DataFrame(a,index=['a','b','c'],columns=column)  
```

print(df1)
```
   ming  wang  liang
a     1     2      3
b     4     5      6
c     7     8      9
```

给行和列名加一个统一的名字  左上角  
df1.index.name='name'  
df1.columns.name='data'  

df1.reindex([1,'a','b']) #选择显示的顺序和项目  
df1.reindex(columns=[1,'xiaoming','liming']) #选择显示的顺序和项目  

### (2) 索引  
```py
df1.values  #返回一个二维的np  
df1['age']  #取出age这一列 一维的，所以返回series  
df1[['age']]  #返回df  
print(df1[['age','score']])  #取多行  
df1.loc[:,['age','score']]  #这种方法最常用，返回df  
df1.ix[['liming'],['age']] #少用这种


``

### (3) 修改    
index的不可修改性，不能单独修改  
df[]判断和修改值不能一步做完，要分开，先根据条件获得行标list，然后再对查找list进行修改，删除  
```py
df1['age']=1 #对整一列赋1  
df1['age']=[32,40,19]  #批量赋值  可以np.list,series  



```

### (4) 删除    
```py
del df1['birth'] #删除列

```

### (5) 文件打开 
**重点**   




















